name: ddev-custom-image-registry

project_files:
  - private-registry.yml.example: .ddev/private-registry.yml
  - scripts/pre-start.sh: .ddev/commands/host/pre-start-private-registry
other_items:
  - env.ddev-custom-image-registry.example
  - scripts/ask-credentials.sh
  - scripts/apply-config.sh
  - scripts/remove.sh

ddev_version_constraint: '>= v1.24.2'

actions:
  post_install:
    - exec-host: ["bash", "scripts/ask-credentials.sh"]
    - exec-host: ["bash", "scripts/apply-config.sh"]
  removal:
    - exec-host: ["bash", "scripts/remove.sh"]
